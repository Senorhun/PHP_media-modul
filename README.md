<p align="center"><a href="https://laravel.com" target="_blank"><img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400" alt="Laravel Logo"></a></p>

## About Media-Modul

Media-modul was created as a proof of commitment to earn the trust of Indamedia IT representative. I have been working on this for 10 days, starting with zero knowledge about php or laravel. I am very proud of my work and it hopefully will earn your attendtion. I have implemented all the listed tasks the paper mentioned:

-   [Purpose of the modul](#purpose-of-the-modul)
-   [Entities](#entities)
-   [Authentication/Authorization](#authenticationauthorization)
-   [Endpoints](#endpoints)
-   [Extras](#extras)

I welcome criticism regarding my work for my further developement. I have utilized Laravel version 11.1.1 and PHP version 8.3.4 and mysql database as requested.

## Purpose of the modul

I had to create a media-modul to connect into an existing CMS system. There are two roles, user and admin. Basically admin can upload photos, users can browse throught the files.

## Entities

I created the User and Photo entities. Photos are connected to User through their id as foreign key. User has many photos and Photo belongs to a User.

USER:

-   id (autogenerated)
-   apiKey (identification for the User)
-   first and last name (separated)
-   email (unic identifier)
-   password (lvl strong and hashed)
-   status (for soft deletion)
-   role (user, admin for access)
-   timestamp (for further information)

PHOTO:

-   id (autogenerated)
-   fileName (for searching)
-   mimeType (for categorize)
-   extension (for categorize)
-   fileSize (for validation)
-   slug (for unique search)
-   status (for soft deletion)
-   timestamp (for further information)

## Authentication/Authorization

I implemented JWT for improved authentication so entry tokens are issued to users upon login and stored at the client-side. When User logs in a new token is created and with them all the CRUD functions become avaible for users after authorization.

I used GATES for authorization purposes so admins can have unlimited CRUD functions but users can't. Every funtion has permission check and validation messages in case of UNauthentication.

## Endpoints

I implemented all the required endpoints from the excercise:

-   users/login.......................................(functions aviable for users after login)
-   users/register..................................(only for user role)
-   users/profile....................................(user/admin access own data)
-   users/refresh...................................(JWT token renews, old gets deleted)
-   users/createUser............................(admin can set role to user/admin)
-   users/logout....................................(token is lost until next login)
-   users/find/byName.......................(admin can access all data)
-   users/find/byApiKey.....................(admin can access all data)
-   users/softDelete/byApiKey........(status set to "deleted")
-   users/listDeleted............................(only admin)
-   users/softUndelete/byApiKey...(status set to "active")
-   photos/upload................................(admin role, single)
-   photos/multiUpload.....................(admin role, multi)
-   photos/list........................................(uploaded admin id is attached)
-   photos/find/byFileName............(listed if more than one)
-   photos/softDelete.........................(status set to "deleted")
-   photos/listDeleted........................(only admin)
-   photos/softUndelete...................(Status set to "active")
-   photos/find/byId...........................(exact search for all data)
-   photos/update/byId.....................(attach metadata to photo)

## Extras

-   Docker
-   Postman (collection)
-   README
-   Pagination
-   JWT token
-   Database dump (dump.sql)
-   Logging (online log-viewer)
